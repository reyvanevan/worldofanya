<!DOCTYPE html>
<html lang="id" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Master Control | World of Anya</title>

    <!-- Tailwind & Config -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        brand: {
                            pink: '#FCE7F3',
                            blue: '#E0F2FE',
                            dark: '#0f172a',
                            accent: '#db2777',
                            accentLight: '#f472b6',
                            gold: '#fbbf24'
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'spin-slow': 'spin 8s linear infinite',
                    }
                }
            }
        }

        // Theme Check
        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark')
        } else {
            document.documentElement.classList.remove('dark')
        }
    </script>

    <!-- Fonts & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:ital,wght@0,600;1,600&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- Styles -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/style.css">

    <!-- Firebase Auth -->
    <script type="module">
        import { auth } from '../js/firebase-config.js';
        import { onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

        // Check if user is authenticated
        onAuthStateChanged(auth, (user) => {
            if (!user) {
                // Not logged in, redirect to login
                window.location.href = 'login.html';
            } else {
                // Store user info for display
                window.currentUser = user;
                document.getElementById('loading-screen')?.remove();
            }
        });
    </script>
    
    <style>
        /* Custom Dashboard Styles */
        .sidebar-glass {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(12px);
            border-right: 1px solid rgba(255, 255, 255, 0.3);
        }
        .dark .sidebar-glass {
            background: rgba(15, 23, 42, 0.8);
            border-right: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .nav-item.active {
            background: linear-gradient(to right, rgba(236, 72, 153, 0.1), rgba(219, 39, 119, 0.05));
            color: #db2777;
            border-right: 3px solid #db2777;
        }
        .dark .nav-item.active {
            background: linear-gradient(to right, rgba(244, 114, 182, 0.1), rgba(219, 39, 119, 0.05));
            color: #f472b6;
            border-right: 3px solid #f472b6;
        }
    </style>
</head>

<body class="bg-gradient-to-br from-brand-blue via-slate-50 to-brand-pink dark:from-slate-950 dark:via-slate-900 dark:to-slate-950 min-h-screen text-slate-700 dark:text-slate-300 overflow-x-hidden selection:bg-brand-accent selection:text-white">

    <!-- Loading Screen -->
    <div id="loading-screen" class="fixed inset-0 z-[100] bg-gradient-to-br from-brand-blue via-slate-50 to-brand-pink dark:from-slate-950 dark:via-slate-900 dark:to-slate-950 flex items-center justify-center">
        <div class="text-center">
            <div class="w-12 h-12 border-4 border-brand-accent border-t-transparent rounded-full animate-spin mx-auto mb-4"></div>
            <p class="text-slate-500 dark:text-slate-400 font-medium">Authenticating...</p>
        </div>
    </div>

    <!-- Mobile Overlay -->
    <div id="sidebarOverlay" onclick="toggleSidebar()" class="fixed inset-0 bg-black/50 z-30 hidden md:hidden transition-opacity duration-300 backdrop-blur-sm"></div>

    <div class="flex min-h-screen relative">

        <!-- SIDEBAR -->
        <aside id="sidebar" class="fixed inset-y-0 left-0 z-40 w-72 sidebar-glass transform -translate-x-full transition-transform duration-300 ease-in-out md:translate-x-0 md:static md:flex flex-col md:h-screen md:sticky md:top-0 overflow-y-auto">
            
            <!-- Sidebar Header -->
            <div class="h-20 flex items-center justify-between px-6 border-b border-slate-200/50 dark:border-slate-700/50">
                <div class="flex items-center gap-3">
                    <div class="w-8 h-8 rounded-full bg-gradient-to-tr from-pink-500 to-purple-500 flex items-center justify-center text-white shadow-lg shadow-pink-500/30">
                        <i data-lucide="layout-dashboard" class="w-4 h-4"></i>
                    </div>
                    <div>
                        <h1 class="font-serif font-bold text-lg text-slate-800 dark:text-white leading-none">World of Anya</h1>
                        <span class="text-[10px] uppercase tracking-widest text-slate-500 font-medium">Control Center</span>
                    </div>
                </div>
                <button onclick="toggleSidebar()" class="md:hidden text-slate-400 hover:text-red-500 transition">
                    <i data-lucide="x" class="w-5 h-5"></i>
                </button>
            </div>

            <!-- Navigation -->
            <nav class="flex-1 p-4 space-y-1 overflow-y-auto custom-scrollbar">
                <p class="px-4 text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 mt-2">Analytics</p>
                <a href="#overview" class="nav-item active flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all hover:bg-white/50 dark:hover:bg-slate-800/50 group">
                    <i data-lucide="bar-chart-2" class="w-5 h-5 group-hover:scale-110 transition-transform"></i>
                    Overview
                </a>
                
                <p class="px-4 text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 mt-6">Content Management</p>
                <a href="#section-hero" class="nav-item flex items-center gap-3 px-4 py-3 text-slate-600 dark:text-slate-400 hover:text-brand-accent dark:hover:text-brand-accentLight hover:bg-white/50 dark:hover:bg-slate-800/50 rounded-xl font-medium transition-all group">
                    <i data-lucide="user" class="w-5 h-5 group-hover:scale-110 transition-transform"></i>
                    Profile & Bio
                </a>
                <a href="#section-gallery" class="nav-item flex items-center gap-3 px-4 py-3 text-slate-600 dark:text-slate-400 hover:text-brand-accent dark:hover:text-brand-accentLight hover:bg-white/50 dark:hover:bg-slate-800/50 rounded-xl font-medium transition-all group">
                    <i data-lucide="image" class="w-5 h-5 group-hover:scale-110 transition-transform"></i>
                    Landing Gallery
                </a>
                <a href="#section-memories" class="nav-item flex items-center gap-3 px-4 py-3 text-slate-600 dark:text-slate-400 hover:text-brand-accent dark:hover:text-brand-accentLight hover:bg-white/50 dark:hover:bg-slate-800/50 rounded-xl font-medium transition-all group">
                    <i data-lucide="sparkles" class="w-5 h-5 group-hover:scale-110 transition-transform"></i>
                    Memories
                </a>
                <a href="#" class="nav-item flex items-center gap-3 px-4 py-3 text-slate-600 dark:text-slate-400 hover:text-brand-accent dark:hover:text-brand-accentLight hover:bg-white/50 dark:hover:bg-slate-800/50 rounded-xl font-medium transition-all group">
                    <i data-lucide="camera" class="w-5 h-5 group-hover:scale-110 transition-transform"></i>
                    Stories & Feed
                    <span class="ml-auto text-[10px] bg-brand-accent text-white px-1.5 py-0.5 rounded-full">New</span>
                </a>

                <p class="px-4 text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 mt-6">System</p>
                <a href="../index.html" target="_blank" class="nav-item flex items-center gap-3 px-4 py-3 text-slate-600 dark:text-slate-400 hover:text-brand-accent dark:hover:text-brand-accentLight hover:bg-white/50 dark:hover:bg-slate-800/50 rounded-xl font-medium transition-all group">
                    <i data-lucide="external-link" class="w-5 h-5 group-hover:scale-110 transition-transform"></i>
                    View Live Site
                </a>
                <button onclick="logout()" class="w-full nav-item flex items-center gap-3 px-4 py-3 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl font-medium transition-all group mt-4">
                    <i data-lucide="log-out" class="w-5 h-5 group-hover:translate-x-1 transition-transform"></i>
                    Logout
                </button>
            </nav>
            
            <!-- Sidebar Footer -->
            <div class="p-4 border-t border-slate-200/50 dark:border-slate-700/50">
                <div class="glass-card p-3 rounded-xl flex items-center gap-3">
                    <div class="relative">
                        <img src="https://ui-avatars.com/api/?name=Rey&background=0D8ABC&color=fff" class="w-10 h-10 rounded-full border-2 border-white dark:border-slate-700">
                        <span class="absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-white dark:border-slate-800 rounded-full"></span>
                    </div>
                    <div class="overflow-hidden">
                        <p class="text-sm font-bold text-slate-800 dark:text-white truncate">Reyvan</p>
                        <p class="text-xs text-slate-500 truncate">Super Admin</p>
                    </div>
                </div>
            </div>
        </aside>

        <!-- MAIN CONTENT -->
        <main class="flex-1 w-full md:w-auto p-3 md:p-8 space-y-6 md:space-y-8 overflow-x-hidden">
            
            <!-- Mobile Header -->
            <div class="md:hidden flex justify-between items-center mb-4 glass-card p-3 rounded-xl sticky top-4 z-20">
                <div class="flex items-center gap-2">
                    <i data-lucide="layout-dashboard" class="w-5 h-5 text-brand-accent"></i>
                    <span class="font-serif font-bold text-base">Dashboard</span>
                </div>
                <div class="flex items-center gap-2">
                    <button onclick="toggleTheme()" class="p-2 rounded-full bg-white/50 dark:bg-slate-800/50 hover:scale-105 transition-transform">
                        <i data-lucide="sun" class="w-4 h-4 text-amber-400 hidden dark:block"></i>
                        <i data-lucide="moon" class="w-4 h-4 text-slate-600 block dark:hidden"></i>
                    </button>
                    <button onclick="toggleSidebar()" class="p-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition">
                        <i data-lucide="menu" class="w-5 h-5"></i>
                    </button>
                </div>
            </div>

            <!-- Desktop Header -->
            <div class="hidden md:flex justify-between items-end" data-aos="fade-down">
                <div>
                    <h1 class="text-3xl font-serif font-bold text-slate-800 dark:text-white mb-1">Welcome back, Rey! ðŸ‘‹</h1>
                    <p class="text-slate-500 dark:text-slate-400">Here's what's happening in your universe today.</p>
                </div>
                <div class="flex gap-4">
                    <button onclick="toggleTheme()" class="p-3 rounded-full glass-card hover:scale-105 transition-transform group">
                        <i data-lucide="sun" class="w-5 h-5 text-amber-400 hidden dark:block group-hover:rotate-90 transition-transform"></i>
                        <i data-lucide="moon" class="w-5 h-5 text-slate-600 block dark:hidden group-hover:-rotate-12 transition-transform"></i>
                    </button>
                    <button class="p-3 rounded-full glass-card hover:scale-105 transition-transform relative">
                        <i data-lucide="bell" class="w-5 h-5 text-slate-600 dark:text-slate-300"></i>
                        <span class="absolute top-2 right-2.5 w-2 h-2 bg-red-500 rounded-full animate-pulse"></span>
                    </button>
                </div>
            </div>

            <!-- Stats Cards -->
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 md:gap-6" id="overview">
                <div class="glass-card p-4 md:p-6 rounded-2xl flex items-center justify-between group hover:-translate-y-1 transition-transform duration-300" data-aos="fade-up" data-aos-delay="100">
                    <div>
                        <p class="text-xs md:text-sm font-medium text-slate-500 dark:text-slate-400 mb-1">Total Visits</p>
                        <h3 class="text-2xl md:text-3xl font-bold text-slate-800 dark:text-white">1,240</h3>
                        <p class="text-xs text-green-500 flex items-center gap-1 mt-2">
                            <i data-lucide="trending-up" class="w-3 h-3"></i> +12% this week
                        </p>
                    </div>
                    <div class="p-3 md:p-4 bg-blue-50 dark:bg-blue-900/30 rounded-xl md:rounded-2xl text-blue-500 group-hover:scale-110 transition-transform">
                        <i data-lucide="eye" class="w-6 h-6 md:w-8 md:h-8"></i>
                    </div>
                </div>
                
                <div class="glass-card p-4 md:p-6 rounded-2xl flex items-center justify-between group hover:-translate-y-1 transition-transform duration-300" data-aos="fade-up" data-aos-delay="200">
                    <div>
                        <p class="text-xs md:text-sm font-medium text-slate-500 dark:text-slate-400 mb-1">Memories Stored</p>
                        <h3 class="text-2xl md:text-3xl font-bold text-slate-800 dark:text-white">42</h3>
                        <p class="text-xs text-pink-500 flex items-center gap-1 mt-2">
                            <i data-lucide="plus" class="w-3 h-3"></i> 3 new today
                        </p>
                    </div>
                    <div class="p-3 md:p-4 bg-pink-50 dark:bg-pink-900/30 rounded-xl md:rounded-2xl text-pink-500 group-hover:scale-110 transition-transform">
                        <i data-lucide="heart" class="w-6 h-6 md:w-8 md:h-8"></i>
                    </div>
                </div>
                
                <div class="glass-card p-4 md:p-6 rounded-2xl flex items-center justify-between group hover:-translate-y-1 transition-transform duration-300 sm:col-span-2 md:col-span-1" data-aos="fade-up" data-aos-delay="300">
                    <div>
                        <p class="text-xs md:text-sm font-medium text-slate-500 dark:text-slate-400 mb-1">Days Together</p>
                        <h3 class="text-2xl md:text-3xl font-bold text-slate-800 dark:text-white">186</h3>
                        <p class="text-xs text-purple-500 flex items-center gap-1 mt-2">
                            <i data-lucide="calendar" class="w-3 h-3"></i> Forever to go
                        </p>
                    </div>
                    <div class="p-3 md:p-4 bg-purple-50 dark:bg-purple-900/30 rounded-xl md:rounded-2xl text-purple-500 group-hover:scale-110 transition-transform">
                        <i data-lucide="hourglass" class="w-6 h-6 md:w-8 md:h-8"></i>
                    </div>
                </div>
            </div>

            <!-- Profile Section -->
            <section id="section-hero" class="glass-card rounded-3xl overflow-hidden" data-aos="fade-up">
                <div class="p-6 border-b border-slate-200/50 dark:border-slate-700/50 flex justify-between items-center bg-white/30 dark:bg-slate-800/30">
                    <div class="flex items-center gap-3">
                        <div class="p-2 bg-pink-100 dark:bg-pink-900/30 rounded-lg text-pink-500">
                            <i data-lucide="user" class="w-5 h-5"></i>
                        </div>
                        <h3 class="font-bold text-base md:text-lg text-slate-800 dark:text-white">Profile Section</h3>
                    </div>
                    <button class="px-3 py-2 md:px-4 bg-brand-accent hover:bg-pink-600 text-white text-xs md:text-sm font-medium rounded-full shadow-lg shadow-pink-500/30 transition-transform hover:scale-105 flex items-center gap-1 md:gap-2">
                        <i data-lucide="save" class="w-4 h-4"></i> Save Changes
                    </button>
                </div>
                
                <div class="p-4 md:p-8 grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8">
                    <div class="md:col-span-1">
                        <label class="block text-sm font-bold mb-3 text-slate-700 dark:text-slate-300">Profile Photo</label>
                        <div class="relative group rounded-2xl overflow-hidden aspect-[3/4] border-4 border-white dark:border-slate-700 shadow-xl">
                            <img id="profilePreview" src="https://images.unsplash.com/photo-1517841905240-472988babdf9?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" class="w-full h-full object-cover transition duration-500 group-hover:scale-110">
                            
                            <div class="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition flex items-center justify-center cursor-pointer backdrop-blur-sm">
                                <button class="bg-white/90 text-slate-900 px-5 py-2.5 rounded-full text-sm font-bold flex items-center gap-2 shadow-lg hover:bg-white transition">
                                    <i data-lucide="upload" class="w-4 h-4"></i> Change Photo
                                </button>
                            </div>
                            <input type="file" class="absolute inset-0 opacity-0 cursor-pointer" onchange="updatePreview(this, 'profilePreview')">
                        </div>
                        <p class="text-xs text-center text-slate-400 mt-3">Recommended: Portrait 3:4</p>
                    </div>
                    
                    <div class="md:col-span-2 space-y-4 md:space-y-6">
                        <div>
                            <label class="block text-sm font-bold mb-2 text-slate-700 dark:text-slate-300">Display Name</label>
                            <input type="text" value="Zalfa Nazhifah" class="w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white/50 dark:bg-slate-900/50 focus:ring-2 focus:ring-brand-accent focus:border-transparent outline-none transition backdrop-blur-sm">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-bold mb-2 text-slate-700 dark:text-slate-300">Bio Description</label>
                            <textarea rows="4" class="w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white/50 dark:bg-slate-900/50 focus:ring-2 focus:ring-brand-accent focus:border-transparent outline-none transition backdrop-blur-sm resize-none">Dia bukan sekadar nama. Dia adalah Zalfa Nazhifah. Lahir 24 Juli 2005, membawa warna biru dan pink ke dalam hidup seseorang yang pernah kehilangan arah.</textarea>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-bold mb-2 text-slate-700 dark:text-slate-300">Highlight Tags</label>
                            <div class="grid grid-cols-1 sm:grid-cols-3 gap-3">
                                <div class="relative">
                                    <span class="absolute left-3 top-3 text-slate-400">#</span>
                                    <input type="text" value="BlueSoul" class="w-full pl-7 pr-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white/50 dark:bg-slate-900/50 focus:ring-2 focus:ring-brand-accent outline-none transition text-sm">
                                </div>
                                <div class="relative">
                                    <span class="absolute left-3 top-3 text-slate-400">#</span>
                                    <input type="text" value="PinkHeart" class="w-full pl-7 pr-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white/50 dark:bg-slate-900/50 focus:ring-2 focus:ring-brand-accent outline-none transition text-sm">
                                </div>
                                <div class="relative">
                                    <span class="absolute left-3 top-3 text-slate-400">#</span>
                                    <input type="text" value="MyUniverse" class="w-full pl-7 pr-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white/50 dark:bg-slate-900/50 focus:ring-2 focus:ring-brand-accent outline-none transition text-sm">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Gallery Section -->
            <section id="section-gallery" class="glass-card rounded-3xl overflow-hidden" data-aos="fade-up">
                <div class="p-6 border-b border-slate-200/50 dark:border-slate-700/50 flex justify-between items-center bg-white/30 dark:bg-slate-800/30">
                    <div class="flex items-center gap-3">
                        <div class="p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg text-blue-500">
                            <i data-lucide="image" class="w-5 h-5"></i>
                        </div>
                        <h3 class="font-bold text-base md:text-lg text-slate-800 dark:text-white">Landing Gallery</h3>
                    </div>
                </div>
                
                <div class="p-4 md:p-6 grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4">
                    <!-- Gallery Item 1 -->
                    <div class="relative group rounded-2xl overflow-hidden aspect-square border border-slate-200 dark:border-slate-700 shadow-md">
                        <img id="gal1" src="https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?ixlib=rb-1.2.1&auto=format&fit=crop&w=400&q=80" class="w-full h-full object-cover transition duration-500 group-hover:scale-110">
                        <div class="absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition flex flex-col items-center justify-center p-4 text-center backdrop-blur-[2px]">
                            <input type="file" class="hidden" id="file-gal1" onchange="updatePreview(this, 'gal1')">
                            <label for="file-gal1" class="cursor-pointer w-10 h-10 rounded-full bg-white/20 hover:bg-brand-accent flex items-center justify-center text-white transition mb-3 backdrop-blur-md">
                                <i data-lucide="edit-2" class="w-5 h-5"></i>
                            </label>
                            <input type="text" value="The Smile" class="bg-transparent border-b border-white/30 text-white text-xs text-center w-full focus:outline-none focus:border-brand-accent placeholder-white/50 py-1 transition-colors">
                        </div>
                        <span class="absolute top-2 left-2 bg-black/50 text-white text-[10px] font-bold px-2 py-1 rounded-lg backdrop-blur-md border border-white/10">01</span>
                    </div>

                    <!-- Gallery Item 2 -->
                    <div class="relative group rounded-2xl overflow-hidden aspect-square border border-slate-200 dark:border-slate-700 shadow-md">
                        <img id="gal2" src="https://images.unsplash.com/photo-1516975080664-ed2fc6a32937?ixlib=rb-1.2.1&auto=format&fit=crop&w=400&q=80" class="w-full h-full object-cover transition duration-500 group-hover:scale-110">
                        <div class="absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition flex flex-col items-center justify-center p-4 text-center backdrop-blur-[2px]">
                            <input type="file" class="hidden" id="file-gal2" onchange="updatePreview(this, 'gal2')">
                            <label for="file-gal2" class="cursor-pointer w-10 h-10 rounded-full bg-white/20 hover:bg-brand-accent flex items-center justify-center text-white transition mb-3 backdrop-blur-md">
                                <i data-lucide="edit-2" class="w-5 h-5"></i>
                            </label>
                            <input type="text" value="Our Fav Place" class="bg-transparent border-b border-white/30 text-white text-xs text-center w-full focus:outline-none focus:border-brand-accent placeholder-white/50 py-1 transition-colors">
                        </div>
                        <span class="absolute top-2 left-2 bg-black/50 text-white text-[10px] font-bold px-2 py-1 rounded-lg backdrop-blur-md border border-white/10">02</span>
                    </div>

                    <!-- Gallery Item 3 -->
                    <div class="relative group rounded-2xl overflow-hidden aspect-square border border-slate-200 dark:border-slate-700 shadow-md">
                        <img id="gal3" src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&auto=format&fit=crop&w=400&q=80" class="w-full h-full object-cover transition duration-500 group-hover:scale-110">
                        <div class="absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition flex flex-col items-center justify-center p-4 text-center backdrop-blur-[2px]">
                            <input type="file" class="hidden" id="file-gal3" onchange="updatePreview(this, 'gal3')">
                            <label for="file-gal3" class="cursor-pointer w-10 h-10 rounded-full bg-white/20 hover:bg-brand-accent flex items-center justify-center text-white transition mb-3 backdrop-blur-md">
                                <i data-lucide="edit-2" class="w-5 h-5"></i>
                            </label>
                            <input type="text" value="Laughed" class="bg-transparent border-b border-white/30 text-white text-xs text-center w-full focus:outline-none focus:border-brand-accent placeholder-white/50 py-1 transition-colors">
                        </div>
                        <span class="absolute top-2 left-2 bg-black/50 text-white text-[10px] font-bold px-2 py-1 rounded-lg backdrop-blur-md border border-white/10">03</span>
                    </div>

                    <!-- Gallery Item 4 -->
                    <div class="relative group rounded-2xl overflow-hidden aspect-square border border-slate-200 dark:border-slate-700 shadow-md">
                        <img id="gal4" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-1.2.1&auto=format&fit=crop&w=400&q=80" class="w-full h-full object-cover transition duration-500 group-hover:scale-110">
                        <div class="absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition flex flex-col items-center justify-center p-4 text-center backdrop-blur-[2px]">
                            <input type="file" class="hidden" id="file-gal4" onchange="updatePreview(this, 'gal4')">
                            <label for="file-gal4" class="cursor-pointer w-10 h-10 rounded-full bg-white/20 hover:bg-brand-accent flex items-center justify-center text-white transition mb-3 backdrop-blur-md">
                                <i data-lucide="edit-2" class="w-5 h-5"></i>
                            </label>
                            <input type="text" value="Cantik Bgt" class="bg-transparent border-b border-white/30 text-white text-xs text-center w-full focus:outline-none focus:border-brand-accent placeholder-white/50 py-1 transition-colors">
                        </div>
                        <span class="absolute top-2 left-2 bg-black/50 text-white text-[10px] font-bold px-2 py-1 rounded-lg backdrop-blur-md border border-white/10">04</span>
                    </div>
                </div>
            </section>

            <!-- Memories Section -->
            <section id="section-memories" class="glass-card rounded-3xl overflow-hidden" data-aos="fade-up">
                <div class="p-6 border-b border-slate-200/50 dark:border-slate-700/50 flex justify-between items-center bg-white/30 dark:bg-slate-800/30">
                    <div class="flex items-center gap-3">
                        <div class="p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg text-purple-500">
                            <i data-lucide="sparkles" class="w-5 h-5"></i>
                        </div>
                        <h3 class="font-bold text-base md:text-lg text-slate-800 dark:text-white">Immortalized Memories</h3>
                    </div>
                </div>

                <div class="p-4 md:p-6 space-y-4 md:space-y-6">
                    <!-- Memory 1 -->
                    <div class="flex flex-col md:flex-row gap-4 md:gap-6 p-3 md:p-4 border border-slate-200/50 dark:border-slate-700/50 rounded-2xl bg-white/40 dark:bg-slate-900/40 hover:bg-white/60 dark:hover:bg-slate-800/60 transition-colors">
                        <div class="w-full md:w-40 h-40 md:h-32 rounded-xl overflow-hidden bg-slate-200 relative group shrink-0 shadow-md">
                            <img id="mem1" src="https://images.unsplash.com/photo-1516975080664-ed2fc6a32937?ixlib=rb-1.2.1&auto=format&fit=crop&w=400&q=80" class="w-full h-full object-cover transition duration-500 group-hover:scale-110">
                             <div class="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition flex items-center justify-center backdrop-blur-[1px]">
                                <label class="cursor-pointer w-10 h-10 rounded-full bg-white/20 hover:bg-brand-accent flex items-center justify-center text-white transition backdrop-blur-md">
                                    <i data-lucide="upload" class="w-5 h-5"></i>
                                    <input type="file" class="hidden" onchange="updatePreview(this, 'mem1')">
                                </label>
                            </div>
                        </div>
                        <div class="flex-1 space-y-4">
                            <div class="flex items-center gap-3">
                                <div class="p-1.5 bg-pink-100 dark:bg-pink-900/30 rounded-lg text-pink-500">
                                    <i data-lucide="smile" class="w-4 h-4"></i>
                                </div>
                                <input type="text" value="Senyum Kamu" class="w-full font-bold text-lg bg-transparent border-b border-transparent hover:border-slate-300 focus:border-brand-accent outline-none transition-colors text-slate-800 dark:text-white">
                            </div>
                            <textarea class="w-full text-sm text-slate-600 dark:text-slate-400 bg-white/50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-xl p-3 focus:ring-2 focus:ring-brand-accent outline-none transition resize-none" rows="2">Momen dimana kamu ketawa lepas. Di detik itu, dunia rasanya berhenti berputar cuma buat ngeliat kamu bahagia.</textarea>
                        </div>
                    </div>

                    <!-- Memory 2 -->
                    <div class="flex flex-col md:flex-row gap-4 md:gap-6 p-3 md:p-4 border border-slate-200/50 dark:border-slate-700/50 rounded-2xl bg-white/40 dark:bg-slate-900/40 hover:bg-white/60 dark:hover:bg-slate-800/60 transition-colors">
                        <div class="w-full md:w-40 h-40 md:h-32 rounded-xl overflow-hidden bg-slate-200 relative group shrink-0 shadow-md">
                            <img id="mem2" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-1.2.1&auto=format&fit=crop&w=400&q=80" class="w-full h-full object-cover transition duration-500 group-hover:scale-110">
                            <div class="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition flex items-center justify-center backdrop-blur-[1px]">
                                <label class="cursor-pointer w-10 h-10 rounded-full bg-white/20 hover:bg-brand-accent flex items-center justify-center text-white transition backdrop-blur-md">
                                    <i data-lucide="upload" class="w-5 h-5"></i>
                                    <input type="file" class="hidden" onchange="updatePreview(this, 'mem2')">
                                </label>
                            </div>
                        </div>
                        <div class="flex-1 space-y-4">
                            <div class="flex items-center gap-3">
                                <div class="p-1.5 bg-blue-100 dark:bg-blue-900/30 rounded-lg text-blue-500">
                                    <i data-lucide="heart" class="w-4 h-4"></i>
                                </div>
                                <input type="text" value="Kebaikan Kamu" class="w-full font-bold text-lg bg-transparent border-b border-transparent hover:border-slate-300 focus:border-brand-accent outline-none transition-colors text-slate-800 dark:text-white">
                            </div>
                            <textarea class="w-full text-sm text-slate-600 dark:text-slate-400 bg-white/50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-xl p-3 focus:ring-2 focus:ring-brand-accent outline-none transition resize-none" rows="2">Cara kamu peduli sama hal-hal kecil. Itu yang bikin kamu beda dari semua orang yang pernah aku kenal.</textarea>
                        </div>
                    </div>

                    <!-- Memory 3 (Empty) -->
                    <div class="flex flex-col md:flex-row gap-4 md:gap-6 p-3 md:p-4 border border-slate-200/50 dark:border-slate-700/50 rounded-2xl bg-white/40 dark:bg-slate-900/40 hover:bg-white/60 dark:hover:bg-slate-800/60 transition-colors">
                        <div class="w-full md:w-40 h-40 md:h-32 rounded-xl overflow-hidden bg-slate-100 dark:bg-slate-800 flex items-center justify-center relative group shrink-0 shadow-inner border-2 border-dashed border-slate-300 dark:border-slate-600">
                            <span class="text-4xl text-slate-300 dark:text-slate-600 font-serif group-hover:scale-110 transition-transform">?</span>
                             </div>
                        <div class="flex-1 space-y-4">
                            <div class="flex items-center gap-3">
                                <div class="p-1.5 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg text-yellow-500">
                                    <i data-lucide="sparkles" class="w-4 h-4"></i>
                                </div>
                                <input type="text" value="Masa Depan?" class="w-full font-bold text-lg bg-transparent border-b border-transparent hover:border-slate-300 focus:border-brand-accent outline-none transition-colors text-slate-800 dark:text-white">
                            </div>
                            <textarea class="w-full text-sm text-slate-600 dark:text-slate-400 bg-white/50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-xl p-3 focus:ring-2 focus:ring-brand-accent outline-none transition resize-none" rows="2">Space kosong ini buat kenangan kita selanjutnya. Kalau kamu ijinin aku buat ngisi lembaran ini lagi.</textarea>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Scripts -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        // Init Plugins
        lucide.createIcons();
        AOS.init({
            once: true,
            offset: 50,
            duration: 800,
        });

        // Sidebar Logic
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebarOverlay');
            
            if (sidebar.classList.contains('-translate-x-full')) {
                // Open
                sidebar.classList.remove('-translate-x-full');
                overlay.classList.remove('hidden');
            } else {
                // Close
                sidebar.classList.add('-translate-x-full');
                overlay.classList.add('hidden');
            }
        }

        // Theme Logic
        function toggleTheme() {
            if (document.documentElement.classList.contains('dark')) {
                document.documentElement.classList.remove('dark');
                localStorage.theme = 'light';
            } else {
                document.documentElement.classList.add('dark');
                localStorage.theme = 'dark';
            }
        }

        // Image Preview Logic
        function updatePreview(input, imgId) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById(imgId).src = e.target.result;
                }
                reader.readAsDataURL(input.files[0]);
            }
        }

        // Logout Logic (Firebase)
        async function logout() {
            if(confirm('Are you sure you want to logout?')) {
                try {
                    const { signOut } = await import("https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js");
                    const { auth } = await import('../js/firebase-config.js');
                    await signOut(auth);
                    window.location.href = 'login.html';
                } catch (error) {
                    console.error('Logout error:', error);
                    alert('Failed to logout. Please try again.');
                }
            }
        }
    </script>
</body>
</html>